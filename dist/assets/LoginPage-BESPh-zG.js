import{u as S,j as e,y as a}from"./index-esxET7c2.js";import{r as i,u as k,L as B}from"./vendor-D4ShCMrl.js";import{E as D,a as E,F as C}from"./lib-DLMaGW3h.js";function P(){const{login:y}=S(),[b,c]=i.useState(!1),[o,j]=i.useState(!1),l=()=>{j(!o)},[r,d]=i.useState({phoneNumber:"",pin:""}),s=k(),N=async t=>{var m,u,p,x,g,h;t.preventDefault(),c(!0);try{const F={phone:C(r.phoneNumber||""),pin:r.pin},n=await y(F);if(((u=(m=n==null?void 0:n.response)==null?void 0:m.data)==null?void 0:u.status)==="error"||(p=n==null?void 0:n.message)!=null&&p.includes("Error")){a.error(((g=(x=n==null?void 0:n.response)==null?void 0:x.data)==null?void 0:g.message)||"Login failed. Please try again.");return}return a.success("Login successful! Redirecting..."),s("/"+((h=n==null?void 0:n.user)==null?void 0:h.role)),n}catch(f){console.error("Error during login:",f),a.error("An unexpected error occurred. Please try again.")}finally{c(!1)}},v=t=>{d({...r,[t.target.name]:t.target.value})};return e.jsx("div",{className:"register-page flex-center flex justify-center items-center p-4",children:e.jsxs("div",{className:"login-container fade-in",children:[e.jsxs("div",{className:"card",style:{maxWidth:"450px",width:"100%"},children:[e.jsxs("div",{className:"text-center",style:{marginBottom:"30px"},children:[e.jsx("div",{style:{fontSize:"3rem",marginBottom:"10px"},children:"üîß"}),e.jsx("h1",{style:{color:"#FFD700",fontSize:"2.2rem",marginBottom:"10px"},children:"Welcome Back"}),e.jsx("p",{style:{color:"#ccc",fontSize:"1.1rem"},children:"Sign in to your  Elisoft Assist account"})]}),e.jsxs("form",{onSubmit:N,children:[e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",color:"#FFD700",fontWeight:"500"},children:"üìß Phone Number"}),e.jsx("input",{type:"number",name:"phoneNumber",className:"input",placeholder:"Enter your phoneNumber",value:r.phoneNumber,onChange:v,required:!0})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",color:"#FFD700",fontWeight:"500"},children:"üîí Pin"}),e.jsxs("div",{className:"input flex items-center gap-2 relative",children:[e.jsx("input",{type:o?"text":"password",inputMode:"numeric",pattern:"[0-9]*",onChange:t=>{/^\d*$/.test(t.target.value)&&d({...r,pin:t.target.value})},name:"pin",className:"bg-transparent border-none outline-none w-full text-white placeholder:text-gray-400",placeholder:"Enter your pin",value:r.pin,required:!0}),o?e.jsx(D,{className:"cursor-pointer",onClick:l}):e.jsx(E,{className:"cursor-pointer",onClick:l})]})]}),e.jsx("button",{type:"submit",className:"btn btn-primary",style:{width:"100%",marginBottom:"5px",fontSize:"1.1rem"},children:b?"Loading...":"Sign In"}),e.jsx(B,{to:"/forgot-pin",style:{color:"blue",background:"none",border:"none",cursor:"pointer",textDecoration:"underline",fontWeight:"400",fontSize:"14px"},children:"Forgotten pin"})]}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{style:{color:"#ccc"},children:["Don't have an account?"," ",e.jsx("button",{onClick:()=>s("/register"),style:{color:"#FFD700",background:"none",border:"none",cursor:"pointer",textDecoration:"underline",fontWeight:"500"},children:"Create one here"})]})})]}),e.jsx("div",{className:"text-center",style:{marginTop:"20px"},children:e.jsx("button",{onClick:()=>s("/"),style:{color:"#888",background:"none",border:"none",cursor:"pointer",fontSize:"1rem"},children:"‚Üê Back to Home"})})]})})}export{P as default};
