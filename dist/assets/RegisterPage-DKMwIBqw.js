import{u as k,j as e,y as o}from"./index-esxET7c2.js";import{r as s,u as S}from"./vendor-D4ShCMrl.js";import{a as f,E as y,F as D}from"./lib-DLMaGW3h.js";function z(){const{register:b}=k(),[j,m]=s.useState(!1),[a,v]=s.useState(!1),[l,N]=s.useState(!1),[t,P]=s.useState({fullName:"",PhoneNumber:"",pin:"",confirmPin:"",role:"Customer",email:"example@email.com"}),u=S(),F=async n=>{var d,p,h,x,g;n.preventDefault(),m(!0);try{const c=t.PhoneNumber||"",C=D(c);if(t.pin!==t.confirmPin){o.error("Pins do not match!");return}if(!t.pin||t.pin.length<4){o.error("Pin must be at least 4 digits long!");return}if(!t.PhoneNumber||t.PhoneNumber.length<11){o.error("Phone number must be at least 11 digits long!");return}const B={phone:C,pin:t.pin,role:t.role,fullName:t.fullName},r=await b(B);if(((p=(d=r==null?void 0:r.response)==null?void 0:d.data)==null?void 0:p.status)==="error"||(h=r==null?void 0:r.message)!=null&&h.includes("Error")){o.error(((g=(x=r==null?void 0:r.response)==null?void 0:x.data)==null?void 0:g.message)||"Error occurred in registration");return}return o.success("Registration successful! Redirecting to login..."),r}catch(c){console.error("Error during registration:",c),o.error("An unexpected error occurred. Please try again.")}finally{m(!1)}},i=n=>{P({...t,[n.target.name]:n.target.value})};return e.jsx("div",{className:"register-page flex-center flex justify-center items-center p-4",children:e.jsxs("div",{className:"register-container fade-in",children:[e.jsxs("div",{className:"card",style:{maxWidth:"450px",width:"100%"},children:[e.jsxs("div",{className:"text-center",style:{marginBottom:"30px"},children:[e.jsx("div",{style:{fontSize:"3rem",marginBottom:"10px"},children:"üîß"}),e.jsx("h1",{style:{color:"#FFD700",fontSize:"2.2rem",marginBottom:"10px"},children:"Join Elisoft Assist"}),e.jsx("p",{style:{color:"#ccc",fontSize:"1.1rem"},children:"Create your account to get started"})]}),e.jsxs("form",{onSubmit:F,children:[e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",color:"#FFD700",fontWeight:"500"},children:"üë§ Full Name"}),e.jsx("input",{type:"text",name:"fullName",className:"input",placeholder:"Enter your full name",value:t.fullName,onChange:i,required:!0})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",color:"#FFD700",fontWeight:"500"},children:"Phone Number"}),e.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:11,name:"PhoneNumber",className:"input",placeholder:"Enter your phone number",value:t.PhoneNumber,onChange:n=>{/^\d*$/.test(n.target.value)&&i(n)},required:!0})]}),e.jsxs("div",{style:{marginBottom:"20px",position:"relative"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",color:"#FFD700",fontWeight:"500"},children:"üîí Pin"}),e.jsx("input",{type:a?"text":"password",inputMode:"numeric",pattern:"[0-9]*",maxLength:6,name:"pin",className:"input",placeholder:"Create a strong pin",value:t.pin,onChange:n=>{/^\d*$/.test(n.target.value)&&i(n)},required:!0}),e.jsx("button",{type:"button",onClick:()=>v(!a),style:{position:"absolute",right:"10px",top:"40px",background:"none",border:"none",cursor:"pointer",color:"#FFD700"},children:a?e.jsx(f,{}):e.jsx(y,{})})]}),e.jsxs("div",{style:{marginBottom:"20px",position:"relative"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",color:"#FFD700",fontWeight:"500"},children:"üîí Confirm Pin"}),e.jsx("input",{type:l?"text":"password",inputMode:"numeric",pattern:"[0-9]*",maxLength:6,name:"confirmPin",className:"input",placeholder:"Confirm your pin",value:t.confirmPin,onChange:n=>{/^\d*$/.test(n.target.value)&&i(n)},required:!0}),e.jsx("button",{type:"button",onClick:()=>N(!l),style:{position:"absolute",right:"10px",top:"38px",background:"none",border:"none",cursor:"pointer",color:"#FFD700"},children:l?e.jsx(f,{}):e.jsx(y,{})})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",color:"#FFD700",fontWeight:"500"},children:"üë§ I am a"}),e.jsxs("select",{name:"role",className:"input",value:t.role,onChange:i,children:[e.jsx("option",{value:"Customer",children:"Customer"}),e.jsx("option",{value:"Mechanic",children:"Mechanic"})]})]}),e.jsx("button",{type:"submit",className:"btn btn-primary",style:{width:"100%",marginBottom:"15px",fontSize:"1.1rem"},children:j?"Loading...":"Create Account"})]}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{style:{color:"#ccc"},children:["Already have an account?"," ",e.jsx("button",{onClick:()=>u("/login"),style:{color:"#FFD700",background:"none",border:"none",cursor:"pointer",textDecoration:"underline",fontWeight:"500"},children:"Sign in here"})]})})]}),e.jsx("div",{className:"text-center",style:{marginTop:"20px"},children:e.jsx("button",{onClick:()=>u("/"),style:{color:"#888",background:"none",border:"none",cursor:"pointer",fontSize:"1rem"},children:"‚Üê Back to Home"})})]})})}export{z as default};
